\chapter{Assembling a Collection of MIDI Files Matched to the Million Song Dataset}
\label{ch:assembling}

We have all the ingredients.
Choosing thresholds - plot of time-to-reach pruning thresholds.
Total time taken.
Statistics of resulting MIDI files.
Extracting ground truth.
Distribution format - original MIDI files, for when different audio is available and/or a better alignment scheme is available.
JAMS structure.

\section{How Reliable is MIDI-Derived Ground Truth?}

In order to utilize many of these sources of information, we need to align, using the system of 3dtw.
How accurate is the result?
Temporal information is effected most, so let's test beats.

\subsection{Comparison to Hand-Annotated Data}

Results, with description of failure modes.

\subsection{Improving Alignment as a Proxy for Content-Based MIR}

Ground truth is already valuable; we can make it more reliable by making alignment better.

\section{Ideas and Improvements}

Obvious: Train content-based MIR systems on derived ground-truth information.
We also have a very large of richly annotated MIDI files.
We can do things like look at transcription statistics for different genres; basically improve on the Serra paper.
We can also query by riff more accurately.
Use multiple MIDI transcriptions as different ground truth data views.
Learn to invert MIDI piano rolls.

Try improving DTW by using the same representation learning approach.
Try learning DTW end-to-end.
Better recurrent network learning for embedding.
Problems with content-based MIR tasks (evaluation).
